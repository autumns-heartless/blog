import{_ as n,B as t,c as e,o as l,j as i,G as p,a3 as h,a as k}from"./chunks/framework.BCX6QadF.js";const u=JSON.parse('{"title":"Vue3 æ€§èƒ½ä¼˜åŒ–çš„ 10 ä¸ªç¡¬æ ¸æŠ€å·§","description":"","frontmatter":{"author":"å‰ç«¯å°æ™º","reprinted":true,"title":"Vue3 æ€§èƒ½ä¼˜åŒ–çš„ 10 ä¸ªç¡¬æ ¸æŠ€å·§","date":"2025/07/08","words":1468,"duration":6,"categories":["vue3"],"tags":["vue3"]},"headers":[],"relativePath":"other/vue3/po.md","filePath":"other/vue3/po.md","lastUpdated":1751963332000}'),r={name:"other/vue3/po.md"};function d(E,s,c,g,o,y){const a=t("ArticleMetadata");return l(),e("div",{"data-pagefind-body":!0},[s[0]||(s[0]=i("h1",{id:"vue3-æ€§èƒ½ä¼˜åŒ–çš„-10-ä¸ªç¡¬æ ¸æŠ€å·§",tabindex:"-1"},[k("Vue3 æ€§èƒ½ä¼˜åŒ–çš„ 10 ä¸ªç¡¬æ ¸æŠ€å·§ "),i("a",{class:"header-anchor",href:"#vue3-æ€§èƒ½ä¼˜åŒ–çš„-10-ä¸ªç¡¬æ ¸æŠ€å·§","aria-label":'Permalink to "Vue3 æ€§èƒ½ä¼˜åŒ–çš„ 10 ä¸ªç¡¬æ ¸æŠ€å·§"'},"â€‹")],-1)),p(a,{article:{}}),s[1]||(s[1]=h(`<blockquote><p>æœ¬æ–‡ç”± <a href="http://ksria.com/simpread/" target="_blank" rel="noreferrer">ç®€æ‚¦ SimpRead</a> è½¬ç ï¼Œ åŸæ–‡åœ°å€ <a href="https://mp.weixin.qq.com/s/InAgCeB8CHQ1_qbSCqIlDw" target="_blank" rel="noreferrer">mp.weixin.qq.com</a></p></blockquote><p>ä½ æ˜¯å¦ä¹Ÿåœ¨ä¸º Vue3 é¡¹ç›®çš„å¡é¡¿é—®é¢˜è‹¦æ¼ï¼Ÿç»„ä»¶ç»“æ„å¤æ‚ã€é€»è¾‘éš¾ä»¥ç»´æŠ¤ã€æ¸²æŸ“æ€§èƒ½ä¸ç»™åŠ›ï¼Ÿåˆ«æ‹…å¿ƒï¼Œæœ¬æ–‡ä¸ºä½ æ€»ç»“äº†å‰ç«¯å®æˆ˜ä¸­äº²æµ‹æœ‰æ•ˆçš„ Vue3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œå…± 10 æ‹›ï¼Œæ‹›æ‹›è§æ•ˆï¼</p><hr><h2 id="hack-1-ç”¨-shallowreactive-æ›¿ä»£-reactive-æ€§èƒ½ç¬é—´èµ·é£" tabindex="-1">Hack 1ï¼šç”¨ Â <code>shallowReactive</code>Â  æ›¿ä»£ Â <code>reactive</code>ï¼Œæ€§èƒ½ç¬é—´èµ·é£ <a class="header-anchor" href="#hack-1-ç”¨-shallowreactive-æ›¿ä»£-reactive-æ€§èƒ½ç¬é—´èµ·é£" aria-label="Permalink to &quot;Hack 1ï¼šç”¨ Â \`shallowReactive\`Â  æ›¿ä»£ Â \`reactive\`ï¼Œæ€§èƒ½ç¬é—´èµ·é£&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>Vue3 çš„ Â \`reactive\`Â  é»˜è®¤æ˜¯æ·±åº¦å“åº”å¼ï¼Œå¤§å‹æ•°æ®ç»“æ„ç¨æœ‰å˜åŠ¨å°±è§¦å‘æ•´ä¸ªç»„ä»¶é‡æ¸²æŸ“ï¼Œæ€§èƒ½å ªå¿§ã€‚</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>ä½¿ç”¨ Â \`shallowReactive\`ï¼Œåªè¿½è¸ª**ç¬¬ä¸€å±‚å±æ€§**çš„å˜åŒ–ï¼Œå°±åƒå¼€å¯äº† â€œå“åº”å¼èŠ‚èƒ½æ¨¡å¼â€ã€‚</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { shallowReactive } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowReactive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å‰ç«¯è¾¾äºº&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  address: { city: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, street: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hobbies: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å†™ä»£ç &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è°ƒ Bug&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userInfo.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Vue é«˜æ‰‹&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // âœ… ä¼šè§¦å‘æ›´æ–°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userInfo.address.city </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ä¸Šæµ·&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // âŒ ä¸ä¼šè§¦å‘æ›´æ–°ï¼</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>å¯¹äºå¦‚è¡¨æ ¼æ•°æ®ã€API å“åº”ç­‰å¤§æ•°æ®å¯¹è±¡ï¼Œ\`shallowReactive\`Â  èƒ½å¤§å¹…å‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚</pre><hr><h2 id="hack-2-ç”¨-torefs-è§£æ„å“åº”å¼å¯¹è±¡-æ¸…çˆ½ä¼˜é›…" tabindex="-1">Hack 2ï¼šç”¨ Â <code>toRefs</code>Â  è§£æ„å“åº”å¼å¯¹è±¡ï¼Œæ¸…çˆ½ä¼˜é›… <a class="header-anchor" href="#hack-2-ç”¨-torefs-è§£æ„å“åº”å¼å¯¹è±¡-æ¸…çˆ½ä¼˜é›…" aria-label="Permalink to &quot;Hack 2ï¼šç”¨ Â \`toRefs\`Â  è§£æ„å“åº”å¼å¯¹è±¡ï¼Œæ¸…çˆ½ä¼˜é›…&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>æ¯æ¬¡éƒ½æ‰‹åŠ¨ Â \`state.xxx\`Â  è·å–å±æ€§å¤ªç¹çï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>ä½¿ç”¨ Â \`toRefs\`Â  ä¸€é”®å°†å“åº”å¼å¯¹è±¡è½¬ä¸ºç‹¬ç«‹çš„ Â \`ref\`ã€‚</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { reactive, toRefs } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reactive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å°æ˜&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> toRefs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;å°çº¢&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // âœ… è‡ªåŠ¨å“åº”æ›´æ–°</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>å‡å°‘å†—ä½™é€»è¾‘ï¼Œè®©æ¨¡æ¿æ›´ç®€æ´ï¼Œå¼€å‘æ›´æµç•…ã€‚</pre><hr><h2 id="hack-3-ç”¨-watcheffect-è‡ªåŠ¨è¿½è¸ªä¾èµ–-å“åº”å¼æ›´èªæ˜" tabindex="-1">Hack 3ï¼šç”¨ Â <code>watchEffect</code>Â  è‡ªåŠ¨è¿½è¸ªä¾èµ–ï¼Œå“åº”å¼æ›´èªæ˜ <a class="header-anchor" href="#hack-3-ç”¨-watcheffect-è‡ªåŠ¨è¿½è¸ªä¾èµ–-å“åº”å¼æ›´èªæ˜" aria-label="Permalink to &quot;Hack 3ï¼šç”¨ Â \`watchEffect\`Â  è‡ªåŠ¨è¿½è¸ªä¾èµ–ï¼Œå“åº”å¼æ›´èªæ˜&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>æ™®é€š Â \`watch\`Â  ç”¨æ³•å¤ªå•°å—¦ï¼Œè¿˜å¾—æ‰‹åŠ¨æŒ‡å®šä¾èµ–æºï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><code>watchEffect</code></p><pre>è‡ªåŠ¨æ„ŸçŸ¥ä¾èµ–ï¼Œæ•°æ®å˜äº†å°±è§¦å‘ã€‚</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref, watchEffect } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> double</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watchEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  double.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>é€‚ç”¨äºè¡¨å•è”åŠ¨ã€ç¼“å­˜æ•°æ®ã€åŠ¨æ€ä¾èµ–åœºæ™¯ï¼Œå“åº”å¼ç¼–ç¨‹é¦–é€‰ã€‚</pre><hr><h2 id="hack-4-ä½¿ç”¨-suspense-å¼‚æ­¥ç»„ä»¶åŠ è½½æ›´ä¸æ»‘" tabindex="-1">Hack 4ï¼šä½¿ç”¨ Â <code>&lt;Suspense&gt;</code>Â  å¼‚æ­¥ç»„ä»¶åŠ è½½æ›´ä¸æ»‘ <a class="header-anchor" href="#hack-4-ä½¿ç”¨-suspense-å¼‚æ­¥ç»„ä»¶åŠ è½½æ›´ä¸æ»‘" aria-label="Permalink to &quot;Hack 4ï¼šä½¿ç”¨ Â \`&lt;Suspense&gt;\`Â  å¼‚æ­¥ç»„ä»¶åŠ è½½æ›´ä¸æ»‘&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>å¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶é¡µé¢ä¸€ç‰‡ç©ºç™½ï¼Œç”¨æˆ·ä½“éªŒä¸ä½³ï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>ç”¨ Â \`Suspense\`Â  åŒ…è£¹å¼‚æ­¥ç»„ä»¶ï¼Œä¼˜é›…å±•ç¤º loading çŠ¶æ€ã€‚</pre><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Suspense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Â  Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Â  Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ç»„ä»¶åŠ è½½ä¸­â€¦&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Suspense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineAsyncComponent } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AsyncComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./AsyncComponent.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>æå‡å¼‚æ­¥ç»„ä»¶åŠ è½½ä½“éªŒï¼Œä¼˜åŒ–é¦–å±æ€§èƒ½ã€‚</pre><hr><h2 id="hack-5-ç”¨-teleport-è®©å¼¹çª—éšå¿ƒæ‰€æ¬²æ¸²æŸ“åˆ°ä»»ä½•ä½ç½®" tabindex="-1">Hack 5ï¼šç”¨ Â <code>&lt;Teleport&gt;</code>Â  è®©å¼¹çª—éšå¿ƒæ‰€æ¬²æ¸²æŸ“åˆ°ä»»ä½•ä½ç½® <a class="header-anchor" href="#hack-5-ç”¨-teleport-è®©å¼¹çª—éšå¿ƒæ‰€æ¬²æ¸²æŸ“åˆ°ä»»ä½•ä½ç½®" aria-label="Permalink to &quot;Hack 5ï¼šç”¨ Â \`&lt;Teleport&gt;\`Â  è®©å¼¹çª—éšå¿ƒæ‰€æ¬²æ¸²æŸ“åˆ°ä»»ä½•ä½ç½®&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>æ¨¡æ€æ¡†ã€èœå•å±‚çº§æ··ä¹±ã€z-index å¤±æ§ï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>ä½¿ç”¨ Â \`Teleport\`Â  å°†å†…å®¹ç›´æ¥ä¼ é€åˆ° Â \`body\`Â  æˆ–å…¶ä»– DOM èŠ‚ç‚¹ã€‚</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> @click=&quot;show</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> =</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> true&quot;&gt;æ‰“å¼€å¼¹çª—&lt;/button&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â </span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">  &lt;Teleport</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;body&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;show&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;modal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Â  Â  Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> @click=&quot;show</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> =</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> false&quot;&gt;å…³é—­&lt;/button&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â  Â </span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">    &lt;/div&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â </span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">  &lt;/Teleport&gt;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">&lt;/template&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>å½»åº•è§£å†³æ ·å¼å†²çªå’Œ DOM ç»“æ„é™åˆ¶ï¼Œæ˜¯æ„å»ºç»„ä»¶åº“çš„å¿…æ€æŠ€ã€‚</pre><hr><h2 id="hack-6-è‡ªå®šä¹‰æŒ‡ä»¤-v-copy-å®ç°ä¸€é”®å¤åˆ¶" tabindex="-1">Hack 6ï¼šè‡ªå®šä¹‰æŒ‡ä»¤ Â <code>v-copy</code>ï¼Œå®ç°ä¸€é”®å¤åˆ¶ <a class="header-anchor" href="#hack-6-è‡ªå®šä¹‰æŒ‡ä»¤-v-copy-å®ç°ä¸€é”®å¤åˆ¶" aria-label="Permalink to &quot;Hack 6ï¼šè‡ªå®šä¹‰æŒ‡ä»¤ Â \`v-copy\`ï¼Œå®ç°ä¸€é”®å¤åˆ¶&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>æ¯æ¬¡å¤åˆ¶å†…å®¹éƒ½è¦æ‰‹åŠ¨å†™ Â \`execCommand\`Â  å¾ˆéº»çƒ¦ï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>å°è£…æˆä¸€ä¸ªå¯å¤ç”¨çš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼š</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">directive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;copy&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> textarea</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;textarea&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      textarea.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> binding.value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(textarea)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      textarea.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;copy&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(textarea)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-copy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39;å¤åˆ¶è¿™æ®µè¯&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ç‚¹æˆ‘å¤åˆ¶&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>é€»è¾‘é›†ä¸­ã€ç»„ä»¶æ›´ç®€æ´ã€äº¤äº’æ›´å‹å¥½ã€‚</pre><hr><h2 id="hack-7-ä½¿ç”¨-pinia-æ’ä»¶-æ‰©å±•çŠ¶æ€ç®¡ç†åŠŸèƒ½" tabindex="-1">Hack 7ï¼šä½¿ç”¨ Pinia æ’ä»¶ï¼Œæ‰©å±•çŠ¶æ€ç®¡ç†åŠŸèƒ½ <a class="header-anchor" href="#hack-7-ä½¿ç”¨-pinia-æ’ä»¶-æ‰©å±•çŠ¶æ€ç®¡ç†åŠŸèƒ½" aria-label="Permalink to &quot;Hack 7ï¼šä½¿ç”¨ Pinia æ’ä»¶ï¼Œæ‰©å±•çŠ¶æ€ç®¡ç†åŠŸèƒ½&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>Pinia çŠ¶æ€ç®¡ç†é€»è¾‘è¶Šæ¥è¶Šåºæ‚ï¼Œéš¾ä»¥å¤ç”¨ï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>è‡ªå®šä¹‰æ’ä»¶ç»Ÿä¸€æ‰©å±•æ‰€æœ‰ store çš„åŠŸèƒ½ï¼š</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ’ä»¶ï¼šæ·»åŠ  $reset æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resetPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$reset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(store.$initialState)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pinia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createPinia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pinia.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resetPlugin)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useUserStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userStore.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¿«é€Ÿé‡ç½®çŠ¶æ€</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>å…±äº«é€»è¾‘ï¼Œç»“æ„æ¸…æ™°ï¼Œæ˜¯ä¸­å¤§å‹é¡¹ç›®ä¸­ä¸å¯æˆ–ç¼ºçš„åˆ©å™¨ã€‚</pre><hr><h2 id="hack-8-ä½¿ç”¨-v-memo-ç¼“å­˜åˆ—è¡¨é¡¹æ¸²æŸ“" tabindex="-1">Hack 8ï¼šä½¿ç”¨ Â <code>v-memo</code>Â  ç¼“å­˜åˆ—è¡¨é¡¹æ¸²æŸ“ <a class="header-anchor" href="#hack-8-ä½¿ç”¨-v-memo-ç¼“å­˜åˆ—è¡¨é¡¹æ¸²æŸ“" aria-label="Permalink to &quot;Hack 8ï¼šä½¿ç”¨ Â \`v-memo\`Â  ç¼“å­˜åˆ—è¡¨é¡¹æ¸²æŸ“&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>å¤§åˆ—è¡¨é¢‘ç¹é‡ç»˜ï¼Œæ€§èƒ½ç›´çº¿ä¸‹æ»‘ï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>ç”¨ Â \`v-memo\`Â  æŒ‡ä»¤ç¼“å­˜æ¸²æŸ“ç»“æœï¼Œåªæœ‰ä¾èµ–é¡¹å˜åŒ–æ‰æ›´æ–°ã€‚</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  v-for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item in items&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â </span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">  :key=&quot;item.id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  v-memo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[item.id, item.status]&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {{ item.name }} - {{ item.status }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>æ˜¾è‘—å‡å°‘æ— æ•ˆæ›´æ–°ï¼Œä¼˜åŒ–è¡¨æ ¼ã€è™šæ‹Ÿæ»šåŠ¨ç­‰æ€§èƒ½ç“¶é¢ˆã€‚</pre><hr><h2 id="hack-9-ç”¨-useintersectionobserver-å®ç°æ™ºèƒ½æ‡’åŠ è½½" tabindex="-1">Hack 9ï¼šç”¨ Â <code>useIntersectionObserver</code>Â  å®ç°æ™ºèƒ½æ‡’åŠ è½½ <a class="header-anchor" href="#hack-9-ç”¨-useintersectionobserver-å®ç°æ™ºèƒ½æ‡’åŠ è½½" aria-label="Permalink to &quot;Hack 9ï¼šç”¨ Â \`useIntersectionObserver\`Â  å®ç°æ™ºèƒ½æ‡’åŠ è½½&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>é¡µé¢åŠ è½½æ…¢ï¼Œå¤§é‡å›¾ç‰‡èµ„æºæ‹–å®æ€§èƒ½ï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>å€ŸåŠ© VueUse çš„ Â \`useIntersectionObserver\`Â  è½»æ¾å®ç°å›¾ç‰‡æ‡’åŠ è½½ã€‚</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">importÂ { useIntersectionObserver }Â fromÂ &#39;@vueuse/core&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">constÂ target = ref(null);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">constÂ isVisible = ref(false);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">useIntersectionObserver(target, ([entry]) =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â  isVisible.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> entry.isIntersecting;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Â </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;target&quot;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> :src=&quot;isVisible</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;img.jpg&#39;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;&quot; alt=&quot;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">æ‡’åŠ è½½å›¾&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">&lt;/template&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>åŠ å¿«é¦–å±åŠ è½½é€Ÿåº¦ï¼Œæœ‰åˆ©äº SEO ä¸ç§»åŠ¨ç«¯ä½“éªŒã€‚</pre><hr><h2 id="hack-10-å°è£…è‡ªå®šä¹‰-hook-composable-é€»è¾‘å¤ç”¨æ›´é«˜æ•ˆ" tabindex="-1">Hack 10ï¼šå°è£…è‡ªå®šä¹‰ Hookï¼ˆComposableï¼‰ï¼Œé€»è¾‘å¤ç”¨æ›´é«˜æ•ˆ <a class="header-anchor" href="#hack-10-å°è£…è‡ªå®šä¹‰-hook-composable-é€»è¾‘å¤ç”¨æ›´é«˜æ•ˆ" aria-label="Permalink to &quot;Hack 10ï¼šå°è£…è‡ªå®šä¹‰ Hookï¼ˆComposableï¼‰ï¼Œé€»è¾‘å¤ç”¨æ›´é«˜æ•ˆ&quot;">â€‹</a></h2><p><strong>é—®é¢˜ï¼š</strong></p><pre>è¡¨å•æ ¡éªŒã€è¯·æ±‚é€»è¾‘ä¸æ–­å¤åˆ¶ç²˜è´´ï¼Ÿ</pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><pre>å°è£…ä¸ºå¯å¤ç”¨çš„ Composable å‡½æ•°ã€‚</pre><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// useFormValidation.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> errors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> validate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    errors.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">email.value) errors.value.email </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;é‚®ç®±ä¸èƒ½ä¸ºç©º&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(errors.value).</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { email, errors, validate }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  import useFormValidation from &#39;./useFormValidation&#39;; const {(email, errors, validate)} =</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  useFormValidation();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p><pre>é«˜åº¦æ¨¡å—åŒ–ã€ä¾¿äºæµ‹è¯•ï¼Œå¤ç”¨ç‡æé«˜ï¼Œæ˜¯ Vue3 æœ€å€¼å¾—æŠ•å…¥çš„æ¨¡å¼ä¹‹ä¸€ã€‚</pre><hr><h2 id="ğŸ§ -æ€»ç»“ä¸€ä¸‹" tabindex="-1">ğŸ§  æ€»ç»“ä¸€ä¸‹ <a class="header-anchor" href="#ğŸ§ -æ€»ç»“ä¸€ä¸‹" aria-label="Permalink to &quot;ğŸ§  æ€»ç»“ä¸€ä¸‹&quot;">â€‹</a></h2><table><thead><tr><th><section>Hack ç¼–å·</section></th><th><section>æŠ€å·§åç§°</section></th><th><section>åº”ç”¨ä»·å€¼</section></th></tr></thead><tbody><tr><td><section>#1</section></td><td><code>shallowReactive</code></td><td><section>å‡å°‘ä¸å¿…è¦çš„å“åº”å¼æ›´æ–°</section></td></tr><tr><td><section>#2</section></td><td><code>toRefs</code></td><td><section>æ›´ä¼˜é›…åœ°è§£æ„å“åº”å¼å¯¹è±¡</section></td></tr><tr><td><section>#3</section></td><td><code>watchEffect</code></td><td><section>è‡ªåŠ¨ä¾èµ–è¿½è¸ª</section></td></tr><tr><td><section>#4</section></td><td><code>&lt;Suspense&gt;</code></td><td><section>æå‡å¼‚æ­¥ç»„ä»¶ä½“éªŒ</section></td></tr><tr><td><section>#5</section></td><td><code>&lt;Teleport&gt;</code></td><td><section>è§£å†³ç»„ä»¶æ¸²æŸ“ä½ç½®é—®é¢˜</section></td></tr><tr><td><section>#6</section></td><td><code>v-copy</code><section>Â æŒ‡ä»¤</section></td><td><section>å®ç°ä¸€é”®å¤åˆ¶</section></td></tr><tr><td><section>#7</section></td><td><section>Pinia æ’ä»¶</section></td><td><section>ä¼˜åŒ–çŠ¶æ€ç®¡ç†é€»è¾‘</section></td></tr><tr><td><section>#8</section></td><td><code>v-memo</code></td><td><section>ç¼“å­˜åˆ—è¡¨æ¸²æŸ“</section></td></tr><tr><td><section>#9</section></td><td><code>useIntersectionObserver</code></td><td><section>æ™ºèƒ½æ‡’åŠ è½½</section></td></tr><tr><td><section>#10</section></td><td><section>è‡ªå®šä¹‰ Hookï¼ˆComposableï¼‰</section></td><td><section>é€»è¾‘å°è£…ä¸å¤ç”¨</section></td></tr></tbody></table><p>è¿™äº›æŠ€å·§å¹¶éç‚«æŠ€ï¼Œè€Œæ˜¯çœŸæ­£åœ¨å¤§å‹ Vue3 é¡¹ç›®ä¸­è½åœ°å¯ç”¨ã€æå‡å¼€å‘ä½“éªŒå’Œæ€§èƒ½çš„åˆ©å™¨ã€‚å¸Œæœ›ä½ èƒ½å°†å®ƒä»¬èå…¥æ—¥å¸¸å¼€å‘å®è·µä¸­ï¼Œæ‰“é€ æ›´åŠ å¥å£®é«˜æ•ˆçš„ Vue åº”ç”¨ã€‚</p>`,102))])}const m=n(r,[["render",d]]);export{u as __pageData,m as default};
